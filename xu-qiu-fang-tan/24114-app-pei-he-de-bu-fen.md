# 24/11/4 APP配合的部分





| 提問                                                                                                                                                                                           | 回覆                                                                                                                                                                                                          |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| APP與WebView 驗證方式                                                                                                                                                                             | <p>個人會員沒有oAuth的token or 會員ID<br>寫js來接收資料？</p><p> </p><p>-APP登入後可取得會員卡號、email、居住地 from profile API</p><p>(要跟data owner: MBS確認可否提供)</p><p>-作法應該是先拿token，再跟tgo profile API取得資料>>>架構審查</p><p>-待Joey拿到規格書再討論</p> |
| 1.1        app打開webview時會有token 嗎? 取得token的流程是?                                                                                                                                              |                                                                                                                                                                                                             |
| 1.2        會有訪客Token 與會員Token 的區分嗎?                                                                                                                                                          |                                                                                                                                                                                                             |
| 1.3        Token 中的內容 會有Scope嗎? 如果沒有scope 未來功能權現區分會怎麼做?                                                                                                                                      |                                                                                                                                                                                                             |
| 1.4        Token 的有效期限會多久?                                                                                                                                                                   |                                                                                                                                                                                                             |
| 1.5        會有 RefreshToken 的機制嗎? 如果有效期限會多久?                                                                                                                                                  |                                                                                                                                                                                                             |
|                                                                                                                                                                                              |                                                                                                                                                                                                             |
| APP與WebView 串接方式                                                                                                                                                                             |                                                                                                                                                                                                             |
| 2.1        是以 URL 的方式串接 webview 嗎?                                                                                                                                                           | 是                                                                                                                                                                                                           |
| <p>2.2        在工作說明書中, 有段預先打包儲存至APP 中 , 這裡的實際運作方式為何?</p><p>                "為降低伺服器的負載及提高使用者體驗，前台(App)在設計模式上需採取前後</p><p>端分離，將部分前端框架另行打包預先儲存至台灣高鐵App中，並設計更新機</p><p>制讓儲存於台灣高鐵App中前端框架資源更新。"</p> | <p>-像是行動網銀的體驗</p><p>-預先載入cache頁面，預先打包(html及js)，APP要知道webview有更新，要討論</p><p>-圖檔的部分若開發就在local就會一起包，改到雲端server抓，可以再調整</p><p>-新芽沒做過這件事，請先提供範例，評估技術可行性</p>                                                        |
| 2.3        預先打包儲存至APP 中的更新機制為何 , 這裡需要 APP實作？                                                                                                                                                 |                                                                                                                                                                                                             |
|                                                                                                                                                                                              |                                                                                                                                                                                                             |
| APP與WebView 資料取得方式                                                                                                                                                                           |                                                                                                                                                                                                             |
| 3.1        會有 JsBridge 相關程式調用功能嗎?                                                                                                                                                            | <p>有哪些js可以讓webview調用，關閉頁面/偵測事件點擊</p><p>可新增調用功能，列出後再試試看</p>                                                                                                                                                  |
| 3.2        手機資料 : 使用者資訊 , 用戶手機設定相關資料 如何取得                                                                                                                                                    | 目前沒有，但未來可以提供                                                                                                                                                                                                |
| 3.3        手機裝置類資料 :  取得當前定位、beacon資訊                                                                                                                                                        | 目前沒有，但未來可以提供                                                                                                                                                                                                |
| <p>3.4        功能類 :</p><p>                功能導轉(同app、跨app)的方式為何?</p><p>                有Deeplink嗎?  為何?</p>                                                                                   | <p>目前沒有用Deeplink</p><p>APP直接跳轉其他APP<br> </p>                                                                                                                                                                |
| 3.5        資料傳遞方式 , 假如App 有一功能 "立即訂購" , 要如何將訂購資料傳遞至 webview?                                                                                                                                 | <p>url參數 or JsBridge 方式？可用js interface</p><p>請提供傳遞方式的文件</p>                                                                                                                                                 |
| APP 的版本資訊為何                                                                                                                                                                                  |                                                                                                                                                                                                             |
| 4.1        Android 最低版本要求?                                                                                                                                                                   | 8                                                                                                                                                                                                           |
| 4.2        IOS 最低版本要求?                                                                                                                                                                       | 13                                                                                                                                                                                                          |
| 5.嵌入的Webview 會包含 表頭的返回鍵嗎? 還是 webview 端實作                                                                                                                                                     | <p>會有表頭(標題)返回鍵</p><p>寫入定義規格</p>                                                                                                                                                                             |
| 6.推播功能會有 api 嗎? 串接的流程為何?                                                                                                                                                                     | <p>兩種方式：</p><p>Firebase</p><p>Adobe 的camp推播平台</p><p> </p><p>APP目前接收兩種推播來源：</p><p>-新芽後台人工設定推播</p><p>-Adobe 的camp推播平台，人進系統操作</p><p>目前沒有API: 開鐵內部需開會，決定tmaas怎麼推播</p>                                           |
